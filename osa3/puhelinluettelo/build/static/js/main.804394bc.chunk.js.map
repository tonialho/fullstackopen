{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","props","console","log","persons","map","person","key","name","number","onClick","handler","Persons","length","Filter","onChange","value","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchTerm","setSearchTerm","notification","setNotification","notificationColor","setNotificationColor","useEffect","personService","initialPersons","handleRefresh","personsToShow","filter","toLowerCase","match","className","message","color","setTimeout","event","target","preventDefault","newPerson","names","numbers","includes","alert","find","p","changedPerson","window","confirm","catch","error","addedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.804394bc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    console.log(\"\")\r\n    console.log(\"Person.js BEGIN\")\r\n    console.log(\"Person props:\", props)\r\n\r\n    return (\r\n        props.persons.map(person => \r\n            <li key={person.name}> \r\n                {person.name} {person.number} \r\n                <button onClick={() => props.handler(person)}>\r\n                    delete\r\n                </button>\r\n            </li>)\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n    console.log('')\r\n    console.log(\"Persons.js BEGIN\")\r\n    console.log(\"persons props: \", props.persons)\r\n\r\n\r\n    if (props.persons.length === 0) {\r\n        console.log(\"no results\")\r\n      return (\r\n        <div>\r\n          <h2>\r\n            Numbers\r\n          </h2>\r\n          <p>Not found</p>\r\n        </div>\r\n      )\r\n    }\r\n  \r\n    else {  \r\n      return (\r\n        <div>\r\n          <h3>\r\n            Numbers\r\n          </h3>\r\n          <ul>\r\n           <Person persons={props.persons} handler={props.handler} /> \r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    console.log(\"\")\r\n    console.log(\"Filter.js BEGIN\")\r\n    return(\r\n        <div>\r\n            Search: <input \r\n                        onChange={props.onChange}\r\n                        value={props.value}\r\n                    />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    console.log(\"\")\r\n    console.log(\"PersonForm.js BEGIN\")\r\n    console.log(\"PersonForm props: \", props)\r\n    return (\r\n        <form onSubmit={props.onSubmit}>\r\n            <div>\r\n            Name: <input\r\n                    value={props.nameValue} \r\n                    onChange={props.nameOnChange}\r\n                    />\r\n            </div>\r\n            <div>\r\n            Number: <input\r\n                        value={props.numberValue}\r\n                        onChange={props.numberOnChange}\r\n                    />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll, create, update, remove \r\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\n\nconst App = () => {\n  console.log(\"\")\n  console.log(\"App.js BEGIN\")\n\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('+358')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ notificationColor, setNotificationColor ] = useState(true)\n\n  useEffect(() => {\n    console.log(\"useEffect begin\")\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log(\"promise fufilled\")\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const Notification = ({message}) => {\n    console.log(\"Notification message: \", message)\n    console.log(\"Notification color: \", notificationColor)\n    \n    const color = notificationColor === true\n      ? \"notification\" \n      : \"error\"\n\n    if (message === null) {\n      return null\n    }\n\n    else{\n      setTimeout(() => {\n        setNotification(null)\n       }, 2000)\n      return (\n        <div className={color}>\n          {message} <br/>\n        </div>\n      )\n    }\n  }\n\n  const handleRefresh = () => {\n    setNewName('')\n    setNewNumber('')\n    return (\n      personService.getAll()\n                  .then(initialPersons => {\n                    console.log(\"promise fufilled\")\n                    setPersons(initialPersons)\n                  })\n    )\n  }\n\n  const handleNoteChange = (event)  => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    setSearchTerm(event.target.value)\n  }\n\n  const handleRemove = (person) => {\n    console.log(\"handleRemove begin\")\n    if(window.confirm(\"Remove \" + person.name + \"?\")){\n        personService\n            .remove(person.id)\n            .then(handleRefresh)\n    }\n    return(\n        console.log(\"Remove \" + person.name),\n        setNotificationColor(true),\n        setNotification(\"Person \" + person.name + \" removed succesfully\")\n    )\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log(\"addPerson begin\")\n    console.log(\"event props\", event.target.value)\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const names = persons.map(person => person.name)\n    const numbers = persons.map(person => person.number)\n\n    if (names.includes(newName) && numbers.includes(newNumber)) {\n      console.log(\"Duplicate spotted\")\n      alert(`${newName} with this number is already added`) \n    }\n\n    else if (names.includes(newName)) {\n      console.log(\"New number spotted\")\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = {...person, number: newNumber}\n      if(window.confirm(\"This person is already added, update the number to \" + newNumber + \"?\" )) {\n        personService\n          .update(person.id, changedPerson)\n          .then(handleRefresh)\n          .catch(error => {\n            console.log(error)\n            setNotificationColor(false)\n            setNotification(\"Information of \" + newName + \" has already been removed\")\n            handleRefresh()\n          })\n        setNotificationColor(true)\n        setNotification(\"Number changed\")\n      }\n    }\n\n    else {\n      personService\n        .create(newPerson)\n        .then(addedPerson => {\n          setPersons(persons.concat(addedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n      setNotificationColor(true)\n      setNotification(\"Added \" + newName)\n      console.log(\"new name added\")\n    }\n  }\n\n  const personsToShow = searchTerm === ''\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().match(searchTerm.toLowerCase()) )\n\n  return (\n    <div className=\"phonebook\">\n      <h2>Phonebook</h2>\n\n      <Notification message={notification}/>\n\n      <Filter onChange={handleSearch} value={searchTerm} />\n\n      <h3>Add a new person</h3>\n\n      <PersonForm onSubmit={addPerson} \n      nameValue={newName} nameOnChange={handleNoteChange}\n      numberValue={newNumber} numberOnChange={handleNumberChange} />\n\n      <Persons persons={personsToShow} handler={handleRemove}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nconsole.log(\"index.js BEGIN\")\n\nReactDOM.render(<App />, \n    document.getElementById('root'));\n"],"sourceRoot":""}